<!DOCTYPE html>
<html lang="ru">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name=viewport content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="css/main.css" /> 
  <link id="link_chcolor" rel="stylesheet" type="text/css" href="css/color_grey.css" /> 
  <title>PostgreSQL2021</title>
  <!--  ПОДКЛЮЧЕНИЕ БИБЛИОТЕКИ Highligt.JS  -->
<!--  <link rel="stylesheet" href="css/higligt_dark.css">-->
  <link rel="stylesheet" href="css/higligt_gml.css">
  <link rel="preload" href="js/highlight.pack.js" as="script">
  <script src="js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
</head>

<body>
  <!-- === НАЧАЛО Контейнера сайта ============= -->
  <div class="cont-site">
    <!-- ======= ЗАГОЛОВОК = логотип + другое ========  -->
    <header>
      <h1>ЛОГОТИП</h1>
      <!--  Блок управления сайтом   -->
      <div id="site-control">
        <div>
          <input type="radio" name='sd-place' id="left" checked="checked">&lt;&lt; Меню &gt;&gt;
          <input type="radio" name='sd-place' id="right">              
        </div>
        <!-- ТАБЛИЦА ВЫБОР цвета сайта -->
        <table class="color_scheme">
          <tr><th id="left-right" colspan="3">Цвет:
          </th></tr>
          <tr> <!-- Строка с цветными прямоугольниками для выбор   а цвета сайта -->
            <td id="color_grey">&nbsp;</td>
            <td id="color_brown">&nbsp;</td>
            <td id="color_night">&nbsp;</td>
          </tr>
        </table> <!-- Конец выбора цвета сайта   -->
      </div>
    </header> <!-- Конец ЗАГОЛОВКА   -->
    
    <!-- ГЛАВНОЕ  МЕНЮ  сделано в 2020 -->
    <div id="m-menu">
      <span class="item">CSS</span> <!-- Пункт меню -->
      <span class='pipe'></span>    <!-- Разделитель пунктов меню  -->
      <span class="item">JavaScript</span><span class='pipe'></span>
      <span class="item">Профессии WEBa</span><span class='pipe'></span>
      <span class="item">Профессии WEBa</span><span class='pipe'></span>
      <span class="item">Верстка сайтов</span>
    </div>
    
    <!-- НАЧАЛО 3-колоночной верстки -->
    <div class="main">
      <!-- НАЧАЛО saidbar -->
      <aside>
        <h3>sidebar</h3>
        <p>
          Lorem Ipsum - это текст-"рыба", часто используемый в печати и вэб-дизайне. Lorem Ipsum является стандартной "рыбой" для текстов на латинице с начала XVI века. В то время некий безымянный печатник создал большую коллекцию размеров и форм шрифтов, используя Lorem Ipsum для распечатки образцов. Lorem Ipsum не только успешно пережил без заметных изменений пять веков, но и перешагнул в электронный дизайн.
        </p>

      </aside> <!-- КОНЕЦ saidbar -->
      
      <!-- НАЧАЛО СТАТЬИ - СРЕДНЯЯ ЧАСТЬ СТРАНИЦЫ  -->
      <article>
        
        <!--  2020 ОГЛАВЛЕНИЕ СТРАНИЦЫ      -->
        <div id="toc-main"> <!-- Контейнер оглавления страницы -->
          <h4 id="toc-h4"><a href="#site-control">Оглавление страницы:</a></h4> <!-- Якорь на самый ввех страницы -->
          <ol id="toc-ol"> <!-- Нумерованный список для добавления строк списка из js -->
          </ol>
        </div>
        <!-- Маленькое оглавление страницы -->
        <div id="toc-small">
          <!--<span>.</span>  Чтобы высота содержимого зависела от шрифта-->
          <span class="triangle-down"></span>
        </div>
        <!--   Конец ОГЛАВЛЕНИЯ СТРАНИЦЫ     -->
        
<!-- =========  НАЧАЛО ПАРАГРАФА Целостность БД  ================================================ -->
        <h4 class='toc_h'>Целостность БД.</h4>
        <p class="toc_p">
          <strong>  Целостность базы данных (database integrity)</strong> — соответствие информации, имеющейся в базе данных, внутренней логике, структуре и всем явно заданным правилам базы данных. 
        </p> 
        <b>Например:</b>
        <ol class="list-a">
          <li>
            <b>Не должно быть явных противоречий между информацией,  об объектах хранящейся в базе данных и самими объектами.</b>
            <br> - Вес запчастей, продуктов и т.д. (физических объектов реального мира) не может быть отрицательным.
            <br> - Цена товара не может быть отрицательной.
            <br> - У номера кредитной карты, например Visa, должно быть 16 цифр.
            <br> - Почтовый код города должен соответствовать определенному формату, принятому в стране и у разных городов не должно быть одинакового кода.
          </li>
          <li>
            <b>Информация должна соответствовать внутренней логике.</b>
            <br> - Если в БД указана минимальная цена продажи товара, то товар не должен продаваться ниже этой цены.
            <br> - У конкретного товара в базе данных не должно быть двух и  более наименований.
            <br> - Ученик в школе может числиться только в одном классе.
            <br> - Покупатель может приобрести много товаров, но товар не может купить покупателя.
          </li>
          <li><b>Данные должны соответствовать заданной структуре.</b>
            <br> - У любого сотрудника предприятия должен быть паспорт и, причем только один.
            <br> - Сотрудник предприятия  может числиться только в одном подразделении (или в нескольких).
            <br> - Один и тот же вид товара может храниться на разных складах.
          </li>
        </ol>
        <p class="toc_p">
          Таким образом, целостность означает правдоподобность (непротиворечивость)  информации хранящейся в БД. Целостность означает, что в базе данных нет заведомо невероятных и невозможных значений. Для обеспечения целостности БД требуется обладать знаниями о соответствии информации, хранящейся в БД и заданным для нее правилам.
        </p>
        <p  class="toc_p">
          <strong>Целостность БД  НЕ гарантирует достоверности</strong> (истинности) содержащейся в ней информации. В базу данных пользователи могут ввести недостоверную информацию. 
        </p>
        <br><strong>Достоверность</strong> (истинность) означает, что информация, хранящаяся в БД, соответствует реальным фактам.
        <br><b>Не следует путать целостность и истинность базы данных – это разные понятия и могут реализовываться по-разному.</b>
          
<!-- =========  КОНЕЦ ПАРАГРАФА  ЦЕЛОСТНОСТЬ ДБ.  ================================================ -->
        
<!-- =========  НАЧАЛО ПАРАГРАФА  Ограничения целостности БД. ================================================ -->
        <h4 class='toc_h'><strong>Ограничения целостности БД.</strong></h4>
        <p class="toc_p">
          В СУБД имеются встроенные средства, которые могут существенно повысить целостность базы данных. Эти средства называются ограничениями целостности.
        </p>
        <p class="toc_p">
          Ограничения целостности – специальные средства в CEБД, позволяющие налагать некоторые ограничения на  информацию в базе данных, позволяющие этой информации быть правдоподобной.
          <br>Рассмотрим еще несколько примеров правил, которые требуют введения ограничений.
        </p> 
        <b>Например:</b>
        <ol class="list-a">
          <li>Возраст биологических родителей  должен быть больше (на какое-то количество лет) возраста их ребенка.</li>
          <li>Количество символов в почтовом индексе каждого города в стране должно быть одинаковым.</li>
          <li>Количество дней в неделе не может быть больше 7.</li>
          <li>Каждый сотрудник на предприятии должен быть уникально идентифицирован. Например,  иметь уникальный табельный номер, чтобы исключить начисление зарплаты одному сотруднику,  а выплату денег другому.
          </li>
        </ol>
        <p class="toc_p">
          Фактически, любое ограничение является следствием каких-то свойств объектов и их взаимосвязей, информация о которых хранится в БД.
        </p>
        <p class="toc_p">  
          База данных не понимает «смысла» данных, которые в ней хранятся. Для того чтобы информация была хотя бы правдоподобной, в базу данных и встраивают средства, позволяющие это обеспечить.
          <br>Рассмотрим работу ограничения целостности, встроенную с СУБД на простом примере.
        </p>
        
<!-- =========  КОНЕЦ ПАРАГРАФА  Ограничения целостности БД ================================================ -->
        
<!-- =======  НАЧАЛО ПАРАГРАФА   Простое ограничение целостности - типы данных. ==============================  -->
        <h4 class='toc_h'><strong>Простое ограничение целостности - типы данных.</strong></h4>
        <p class="toc_p">
          Типы данных сами по себе уже являются ограничениями целостности. При создании таблицы, в которой будут храниться данные НЕОБХОДИМО для каждого столбца определить тип данных, который в этом столбце будет храниться.
          <br><br>Создадим таблицу в которой будем хранить информацию об учениках школы.
          <br>Название таблицы – <b>pupils</b>. 
          <br>Все имена столбцов будут начинаться с английской буквы 'p'. 
        </p>
        <ol class="list-a">
          <li><b>Создаем таблицу.</b>
          <pre><code class="language-pgsql hljs my">CREATE TABLE pupils (
    pid integer,    -- номер, тип данных: целое число
    pname text,     -- фамилия, тип данных: текст
    pburn date	    -- дата рождения, тип данных: дата
);
</code></pre>
          </li>          
          <li><b>Заносим в таблицу данные.</b>
          <pre><code class="language-pgsql hljs my">INSERT INTO pupils  VALUES 
    (1, 'Иванов',  '2010-03-25'),
    (2, 'Петров',  '2011-08-14'),
    (3, 'Сидоров', '2010-06-18')
;
</code></pre>
          </li>
          <li><b>Смотрим, содержимое таблицы.</b>
          <pre><code class="language-pgsql hljs my">SELECT * FROM pupils;
-- ответ сервера
pid |  pname  |    pburn    
-----+---------+------------
   1 | Иванов  | 2010-03-25
   2 | Петров  | 2011-08-14
   3 | Сидоров | 2010-06-18
(3 rows)
</code></pre>
            Все в порядке, данные в таблицу занеслись корректно.
          </li>        
        </ol>
        <p class="toc_p">
          ПРОВЕРЯЕМ, что задавая столбцам тип данных, мы уже ограничиваем вносимые данные. 
          <br><b>Пример. Пробуем ввести текст вместо даты.</b>
        </p>
          <pre><code class="language-pgsql hljs my">INSERT INTO pupils (pid, pname, pburn) VALUES (
    4,        
    'Добров',   
    '18 июля 2012'  /* Дата, записанная текстом */
);

-- Получаем ошибку.  
ERROR:  invalid input syntax for type date: "18 июля 2012"
LINE 4:     '18 июля 2012'  /* Дата, но записанная текстом */
            ^
</code></pre>
        
<!-- =========  КОНЕЦ ПАРАГРАФА  Простое ограничение целостности - типы данных. ================================================ -->
        
<!-- =========  НАЧАЛО ПАРАГРАФА  DRAGGABLE ================================================ -->
        <h4 class='toc_h' >DRAGGABLE.</h4>
        <p class="toc_p">
          Давно выяснено, что при оценке дизайна и композиции читаемый текст мешает сосредоточиться. Lorem Ipsum используют потому, что тот обеспечивает более или менее стандартное заполнение шаблона, а также реальное распределение букв и пробелов в абзацах, которое не получается при простой дубликации "Здесь ваш текст.. Здесь ваш текст.. Здесь ваш текст.." Многие программы электронной вёрстки и редакторы HTML используют Lorem Ipsum в качестве текста по умолчанию, так что поиск по ключевым словам "lorem ipsum" сразу показывает, как много веб-страниц всё ещё дожидаются своего настоящего рождения. За прошедшие годы текст Lorem Ipsum получил много версий. Некоторые версии появились по ошибке, некоторые - намеренно (например, юмористические варианты).
          
        </p>
<!-- =========  КОНЕЦ ПАРАГРАФА  DRAGGABLE ================================================ -->

<!-- =========  НАЧАЛО ПАРАГРАФА  ANIMATE ================================================ -->
        <h4 class='toc_h' >ANIMATE.</h4>
        
        <p class="toc_p">
          Lorem Ipsum - это текст-"рыба", часто используемый в печати и вэб-дизайне. Lorem Ipsum является стандартной "рыбой" для текстов на латинице с начала XVI века. В то время некий безымянный печатник создал большую коллекцию размеров и форм шрифтов, используя Lorem Ipsum для распечатки образцов. Lorem Ipsum не только успешно пережил без заметных изменений пять веков, но и перешагнул в электронный дизайн. Его популяризации в новое время послужили публикация листов Letraset с образцами Lorem Ipsum в 60-х годах и, в более недавнее время, программы электронной вёрстки типа Aldus PageMaker, в шаблонах которых Lorem Ipsum - это текст-"рыба", часто используемый в печати и вэб-дизайне. Lorem Ipsum является стандартной "рыбой" для текстов на латинице с начала XVI века. В то время некий безымянный печатник создал большую коллекцию размеров и форм шрифтов, используя Lorem Ipsum для распечатки образцов. Lorem Ipsum не только успешно пережил без заметных изменений пять веков, но и перешагнул в электронный дизайн. Его популяризации в новое время послужили публикация листов Letraset с образцами Lorem Ipsum в 60-х годах и, в более недавнее время, программы электронной вёрстки типа Aldus PageMaker, в шаблонах которых
        </p>
   
        <p class="toc_p">
          Lorem Ipsum - это текст-"рыба", часто используемый в печати и вэб-дизайне. Lorem Ipsum является стандартной "рыбой" для текстов на латинице с начала XVI века. В то время некий безымянный печатник создал большую коллекцию размеров и форм шрифтов, используя Lorem Ipsum для распечатки образцов. Lorem Ipsum не только успешно пережил без заметных изменений пять веков, но и перешагнул в электронный дизайн. Его популяризации в новое время послужили публикация листов Letraset с образцами Lorem Ipsum в 60-х годах и, в более недавнее время, программы электронной вёрстки типа Aldus PageMaker, в шаблонах которых используется Lorem Ipsum.
        </p>
<!-- =========  КОНЕЦ ПАРАГРАФА  ANIMATE ================================================ -->



<!-- =========  НАЧАЛО ПАРАГРАФА Синтаксис  ================================================ -->
        <h4 class='toc_h'>Синтаксис.</h4>
        <p class="toc_p">
          Lorem Ipsum - это текст-"рыба", часто используемый в печати и вэб-дизайне. Lorem Ipsum является стандартной "рыбой" для текстов на латинице с начала XVI века. В то время некий безымянный печатник создал большую коллекцию размеров и форм шрифтов, используя Lorem Ipsum для распечатки образцов. Lorem Ipsum не только успешно пережил без заметных изменений пять веков, но и перешагнул в электронный дизайн. Его популяризации в новое время послужили публикация листов Letraset с образцами Lorem Ipsum в 60-х годах и, в более недавнее время, программы электронной вёрстки типа Aldus PageMaker, в шаблонах которых используется Lorem Ipsum.
        </p>
<!-- =========  КОНЕЦ ПАРАГРАФА Синтаксис  ================================================ -->

<!-- =========  НАЧАЛО ПАРАГРАФА Поддержка браузерами  ================================================ -->
        <h4 class='toc_h'>Поддержка браузерами.</h4>
        <p class="toc_p">
          Lorem Ipsum - это текст-"рыба", часто используемый в печати и вэб-дизайне. Lorem Ipsum является стандартной "рыбой" для текстов на латинице с начала XVI века. В то время некий безымянный печатник создал большую коллекцию размеров и форм шрифтов, используя Lorem Ipsum для распечатки образцов. Lorem Ipsum не только успешно пережил без заметных изменений пять веков, но и перешагнул в электронный дизайн. Его популяризации в новое время послужили публикация листов Letraset с образцами Lorem Ipsum в 60-х годах и, в более недавнее время, программы электронной вёрстки типа Aldus PageMaker, в шаблонах которых используется Lorem Ipsum.
        </p>
<!-- =========  КОНЕЦ ПАРАГРАФА Поддержка браузерами  ================================================ -->

      
      </article> <!-- КОНЕЦ СТАТЬИ -->
      
      <!-- КОЛОНКА  РЕКЛАМЫ  -->
      <div class="ad">
        <h4> РЕКЛАМНЫЙ БЛОК </h4>
        
      </div>
    </div> <!-- КОНЕЦ 3 колоночной верстки  -->
    <footer> ФУТЕР </footer>
  </div> <!-- КОНЕЦ Контейнера сайта -->
  
  <!-- Подключаем библиотеку jQuery    -->
  <script src="js/jquery-3.4.1.min.js"></script>
<!--  <script src="js/jquery-ui.js"></script>-->
  <!-- СКРИПТ для работы jQuery UI в мобильных устройствах (tauch pad)  -->
<!--  <script src="js/jquery.ui.touch-punch.min.js"></script>-->
  
  <!-- !!! ПОСЛЕ jQuery. ===== МОДУЛЬ НУМЕРАЦИИ ОГЛАВЛЕНИЙ разделов СКРИПТ 2020 -  -->
  <script>
    // ===== МОДУЛЬ НУМЕРАЦИИ ОГЛАВЛЕНИЙ разделов ===== 
    /*  Нумеруем имена разделов + Создаем ссылки на разделы
     * Описание ВСЕГО МОДУЛЯ в 
     * D:\w10_КОНСПЕКТЫ_w7\САЙТ МОЙ 2020\МОДУЛИ  КОНСПЕКТЫ\Сайт оглавление страницы КОНСПЕКТ.doc
     * !!!! ОБЯЗАТЕЛЬНО РАСПОЛОЖЕНИЕ функции ЗДЕСЬ в body (в теле страницы), 
     * ИНАЧЕ после загрузки всей страницы, ПРОБЛЕМА:
     *  если в адресной строке есть якорь ТО не произойдет переход к разделу страницы т.к еще не будет идентификатора.
     *  ОБРАБАТЫВАЕМ имена абзацев (h4) И СОЗДАЕМ имена разделов с атрибутами в оглавлении страницы.
    */
    let num = 1; // Создаем счетчик количества разделов страницы.
    let ol = $("#toc-ol"); // Получаем начало нумерованного списка.
    $('.toc_h').map(function(indx) {  // Выбираем на загруженной стренице ВСЕ имена разделов (абзацев).
        let elem = $(this); // Получаем текущий элемент из НАБОРА ВЫБРАННЫХ элементов.
        let old_text = elem.text(); // Записываем старый текст
        let new_text = num + '. ' + old_text; // Добавляем к тексту номер по порядку.
        
        // Изменяем  наименование раздела страницы + записываем идентификатор
        elem.text(new_text); // Записываем новый текст - уже с номером.
        let id_num = "toc_" + num; // Создаем имя идентификатора .
        elem.attr("id", id_num);   // Записываем идентификатор в тэг.
        
        // Создаем элемент списка меню оглавления.
        new_li = "<li><a href='#" + id_num + "'>" + old_text + "</a></li>";
        ol.append(new_li);
        
        num = num + 1; // Увеличиваем счетчик на 1
    });
  </script>
  
  <script src="js/main.js"></script> <!-- ГЛАВНЫЙ СКРИПТ -->
   <!-- <script src="js/exercise.js"></script>Скрипт УПРАЖНЕНИЯ -->
</body>
</html>


